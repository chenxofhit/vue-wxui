var webpack = require('webpack');
var config = require('./webpack.config.js');
var ExtractTextPlugin = require("extract-text-webpack-plugin");

config.entry = {
  wzmui: './src/index.js'
},
config.output = {
  filename: './dist/[name].min.js',
  library: 'VueWeui',
  libraryTarget: 'umd'
};
config.plugins = [
  new webpack.DefinePlugin({
    'process.env': {
      NODE_ENV: '"production"'
    }
  }),
  new webpack.optimize.UglifyJsPlugin({
    sourceMap: true,
    compress: {
      warnings: false
    }
  }),
  new webpack.optimize.OccurenceOrderPlugin(),
  new ExtractTextPlugin("./style/style.min.css")
];
module.exports = config;